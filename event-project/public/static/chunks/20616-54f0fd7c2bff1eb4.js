(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[20616],{88584:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(11217),i=n(19803),s=n.n(i),a=n(50959),l=n(80417),o=n(74596),d=n(11137),c=n(76185);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let m={},p=o.Ps`
  query eventCalendarUrlByEventId($eventId: ID) {
    event(id: $eventId) {
      ...EventCalendarUrls
    }
  }
  ${d.i}
`;var h=n(16165),j=n(42150),f=n(1970),g=n(57157),b=n(44636),y=n(73193);let x=(0,y.vU)({addToCalendarLink:{id:"event-home.addToCalendarLink",defaultMessage:"Add to calendar"}}),O=[{id:"google",label:"Google Calendar",eventLabel:f.LU.addEventToCalendarGoogle},{id:"ical",label:"iCal",eventLabel:f.LU.addEventToCalendarICal},{id:"outlook",label:"Outlook",eventLabel:f.LU.addEventToCalendarOutlook},{id:"yahoo",label:"Yahoo Calendar",eventLabel:f.LU.addEventToCalendarYahoo}];var w=n(11527);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let E=e=>{var t;let{isPortal:n,dropdownPlacement:r,eventId:i,buttonVariant:o,dropdownStyles:d,buttonClass:u}=e,y=(0,h.Z)(),P=y===j.e.LOGGED_IN,{data:E}=function(e){let t=v(v({},m),e);return c.a(p,t)}({ssr:!1,variables:{eventId:i},fetchPolicy:"cache-and-network",skip:!P}),k=(0,a.useMemo)(()=>{var e;return null!=E&&null!==(e=E.event)&&void 0!==e&&e.calendarExportUrls?O.map(e=>{var t;return N(N({},e),{},{link:(null==E?void 0:null===(t=E.event)||void 0===t?void 0:t.calendarExportUrls[null==e?void 0:e.id])??""})}):O},[null==E?void 0:null===(t=E.event)||void 0===t?void 0:t.calendarExportUrls]),D=(0,a.useRef)(),{0:C,1:T}=(0,a.useState)(!1),Z=()=>{T(!C)},S=()=>{T(!1)};return!P||k.every(e=>!(null!=e&&e.link))?null:(0,w.jsxs)("div",{ref:D,children:[(0,w.jsx)(b.ZP,{tabIndex:0,role:"button",variant:o,className:s()("cursor-pointer text-viridian",u),onClick:Z,"data-event-label":f.LU.addEventToCalendar,"aria-expanded":"true",children:(0,w.jsx)(l.Z,N({},x.addToCalendarLink))}),(0,w.jsx)(g.W,{isOpen:C,isPortal:n,parentRef:D.current,renderClosed:!0,placement:r,strategy:"absolute",onClickOutside:S,className:s()(d),children:(0,w.jsx)("div",{className:"-mx-4 -my-3 flex flex-col divide-y divide-gray3",children:k.map(e=>(0,w.jsx)("a",{href:null==e?void 0:e.link,target:"_blank",className:"px-3 py-2 text-gray7 hover:bg-gray1 hover:no-underline",rel:"noreferrer","data-event-label":null==e?void 0:e.eventLabel,children:null==e?void 0:e.label},null==e?void 0:e.label))})})]})};var k=E},20616:function(e,t,n){"use strict";n.d(t,{c:function(){return F}});var r=n(11217),i=n(19803),s=n.n(i),a=n(73193),l=n(36122),o=n(80417),d=n(91757),c=n(45209),u=n(88584),v=n(46990),m=n(11527);let p=e=>{let{message:t,date:n,time:r}=e;return(0,m.jsxs)("div",{className:"flex",children:[(0,m.jsx)("div",{className:"w-[22px]",children:(0,m.jsx)(v.ZP,{icon:"check",outline:!0,svgClassName:"text-gray6",size:22})}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("div",{className:"pl-5",children:t}),(0,m.jsx)("div",{className:"pl-5",children:n}),(0,m.jsx)("div",{className:"pl-5",children:r})]})]})};var h=n(48630),j=n(15878),f=n(67206),g=n(18671);let b=(0,a.vU)({durationTo:{id:"event-home.durationTo",defaultMessage:"to {END_DATE}"},recurring:{id:"event-home.recurring",defaultMessage:"Every {DATE}"},canceled:{id:"event-home.canceled",defaultMessage:"Canceled"}}),y=e=>{let{dateTime:t,endTime:n,recurrenceDescription:r,isShowRecurrenceDescription:i,isShowEventCancelled:a,isOnline:o,eventTimezone:d}=e,c=(0,l.Z)(),{preferredTimeZone:u}=(0,f.S_)(),p=o?u:d,h=(0,j.Z)(new Date(c.formatDate(t,{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric",timeZone:p})),new Date(c.formatDate(n,{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric",timeZone:p}))),y=n?` ${c.formatMessage(b.durationTo,{END_DATE:c.formatDate(n,{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric",timeZone:p})})}`:"",x=n?` ${c.formatMessage(b.durationTo,{END_DATE:c.formatDate(n,{hour:"numeric",minute:"numeric",timeZone:p})})}`:"",O=`${c.formatDate(t,{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric",timeZone:p})}${y} ${(0,g.Wo)(new Date(t),p)}`,w=`${c.formatDate(t,{weekday:"long",day:"numeric",month:"long",year:"numeric",timeZone:p})}`,P=`${c.formatDate(t,{hour:"numeric",minute:"numeric",timeZone:p})} ${x} ${(0,g.Wo)(new Date(t),p)}`,N=s()({"line-through":a});return(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:"flex",children:[(0,m.jsx)("div",{children:(0,m.jsx)(v.ZP,{icon:"time",outline:!0,width:24,height:24,svgClassName:"text-gray5"})}),(0,m.jsxs)("div",{children:[a&&(0,m.jsx)("div",{className:"font-medium md:pl-4.5 lg:pl-5",children:c.formatMessage(b.canceled)}),(0,m.jsx)("div",{className:"pl-4 md:pl-4.5 lg:pl-5",children:h?(0,m.jsxs)("time",{className:N,children:[w," ",(0,m.jsx)("br",{}),P]}):(0,m.jsx)("time",{className:N,children:O})})]})]}),i?(0,m.jsx)("div",{className:"pl-11",children:(0,m.jsx)("time",{children:r})}):null]})};var x=n(92204),O=n.n(x),w=n(50959),P=n(1970),N=n(44636);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let D=O()(()=>n.e(79013).then(n.bind(n,79013)),{ssr:!1,loadableGenerated:{webpack:()=>[79013]}}),C=(0,a.vU)({hasPassed:{id:"event.venue.hasPassed",defaultMessage:"This event has passed"},linkVisible:{id:"event.venue.linkVisible",defaultMessage:"Link visible for attendees"},onlineEvent:{id:"event.venue.onlineEvent",defaultMessage:"Online event"}}),T=e=>{let{isGroupPrivate:t,howToFindUs:n,timeStatus:r,isMember:i,isOrganizer:a,isAttending:l,eventId:c,groupId:u,noPadding:p}=e,{0:h,1:j}=(0,w.useState)(!1),f=r===d.rV.Upcoming,g=r===d.rV.Begun,b=r===d.rV.Ended&&(i&&!a||!t&&!i);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:s()("flex",{"mt-5":!p}),children:[(0,m.jsx)(v.ZP,{icon:"video",outline:!0,width:24,height:24,svgClassName:"text-gray5"}),(0,m.jsxs)("div",{className:"overflow-hidden pl-4 md:pl-4.5 lg:pl-5",children:[(0,m.jsx)("div",{"data-testid":"venue-name-value",children:(0,m.jsx)(o.Z,k({},C.onlineEvent))}),l&&i&&(f||g)&&(0,m.jsx)("div",{children:(0,m.jsx)(N.ZP,{className:"w-full break-words text-left text-linkBlue","data-event-label":P.LU.onlineEventLink,onClick:()=>j(!0),children:n})}),(f||g)&&!l&&(0,m.jsx)("div",{className:"text-gray6","data-testid":"link-visible",children:(0,m.jsx)(o.Z,k({},C.linkVisible))}),b&&(0,m.jsx)("div",{className:"text-gray6","data-testid":"has-passed",children:(0,m.jsx)(o.Z,k({},C.hasPassed))})]})]}),(0,m.jsx)(D,{onClose:()=>j(!1),isOpen:h,link:n,eventId:c,chapterId:u})]})};var Z=n(835),S=n.n(Z);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let M=(0,a.vU)({locationHidden:{id:"event.venue.locationHidden",defaultMessage:"Location visible to members"},needsLocation:{id:"event.venue.needsLocation",defaultMessage:"Needs a location"},howToFindUs:{id:"event.venue.howToFindUs",defaultMessage:"How to find us"},inPerson:{id:"event.venue.inPerson",defaultMessage:"In Person"}}),I=e=>{let{venue:t,isGroupPrivate:n,howToFindUs:r,center:i,isMember:a,showMap:l,eventType:c,isHideMapMarker:u,noPadding:p}=e,h=(!n||a)&&Boolean((null==t?void 0:t.address)||(null==t?void 0:t.city)||(null==t?void 0:t.state)),j=c===d.tw.HYBRID,f=a&&Boolean(r),g=null==t?void 0:t.address;return null!=t&&t.city&&(g+=` \xb7 ${null==t?void 0:t.city}`),null!=t&&t.state&&(g+=`, ${null==t?void 0:t.state}`),(0,m.jsxs)("div",{className:s()("flex",{"mt-5":!p}),children:[!u&&(0,m.jsx)(v.ZP,{icon:"mapMarker",width:24,height:24,outline:!0,svgClassName:"text-gray5"}),(0,m.jsxs)("div",{className:s()("overflow-hidden",{"pl-4 md:pl-4.5 lg:pl-5":!u}),children:[j&&(0,m.jsx)("div",{children:(0,m.jsx)(o.Z,U({},M.inPerson))}),l&&(0,m.jsx)(S(),{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(i)}`,className:"hover:text-viridian hover:no-underline","data-testid":"venue-name-link","data-event-label":P.LU.eventLocation,target:"_blank",children:null==t?void 0:t.name}),h&&(0,m.jsx)("div",{className:"text-gray6","data-testid":"location-info",children:g}),n&&!a&&(0,m.jsx)("div",{className:"text-sm text-gray6","data-testid":"location-hidden",children:(0,m.jsx)(o.Z,U({},M.locationHidden))}),(!t||0===Object.keys(t).length)&&(!n||a)&&(0,m.jsx)("div",{className:"text-sm","data-testid":"needs-location",children:(0,m.jsx)(o.Z,U({},M.needsLocation))}),f&&(0,m.jsxs)("div",{className:"mt-2","data-testid":"how-to-find-us",children:[(0,m.jsx)("div",{children:(0,m.jsx)(o.Z,U({},M.howToFindUs))}),(0,m.jsx)("p",{children:r})]})]})]})};function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let B=(0,a.vU)({needStartTime:{id:"event-home.eventNeedStartTime",defaultMessage:"Needs a date and time"},rsvpBy:{id:"event.venue.rsvpBy",defaultMessage:"Respond by"},rsvpStart:{id:"event.venue.rsvpStart",defaultMessage:"RSVP opens"},rsvpAreClosed:{id:"event.venue.rsvpClosed",defaultMessage:"RSVPs are closed"}}),_=e=>{let{message:t,date:n,time:r}=e;return(0,m.jsx)("div",{className:"mb-5","data-testid":"event-rsvp-time",children:(0,m.jsx)(p,{message:t,date:n,time:r})})},A=e=>{let{eventType:t,isAttending:n,isTicketOnlineVenueType:r,isOrganizer:i}=e;return t===d.tw.HYBRID?n&&!i?r?{showPhysicalEvent:!1,showOnlineEvent:!0}:{showPhysicalEvent:!0,showOnlineEvent:!1}:{showPhysicalEvent:!0,showOnlineEvent:!0}:{showPhysicalEvent:t===d.tw.PHYSICAL,showOnlineEvent:t===d.tw.ONLINE}},F=e=>{let t,n,{venue:r,dateTime:i="",endTime:a,hideAddToCalendar:v=!1,hideTime:p=!1,className:j,isGroupPrivate:f,howToFindUs:g,timeStatus:b,rsvpSettings:x,rsvpState:O,eventStatuses:w,center:P,recurrenceDescription:N,eventTimezone:E,isMember:k,isOrganizer:D,isAttending:C,eventId:Z,groupId:S,wideView:L,showMap:U,eventType:M,isTicketOnlineVenueType:$,onlineVenueSettings:F,isHideMapMarker:H,noPadding:V}=e,{formatMessage:G,formatDate:Y}=(0,l.Z)(),z=(0,c.O)(),W=b===d.rV.Upcoming,q=!f||k,J=W&&q&&(null==x?void 0:x.rsvpOpenTime)&&O===d.S5.NotOpenYet&&(null==w?void 0:w.isBeforeRsvpOpenTime),K=W&&q&&(null==x?void 0:x.rsvpCloseTime)&&!(null!=w&&w.isAfterRsvpCloseTime);J?(t=null==x?void 0:x.rsvpOpenTime,n=G(B.rsvpStart)):K&&(t=null==x?void 0:x.rsvpCloseTime,n=G(B.rsvpBy));let Q=Y(t,{weekday:"long",day:"numeric",month:"long",year:"numeric"}),X=Y(t,{hour:"numeric",minute:"numeric"}),{showPhysicalEvent:ee,showOnlineEvent:et}=A({eventType:M,isAttending:C,isTicketOnlineVenueType:$,isOrganizer:D}),en=M===d.tw.HYBRID?null==F?void 0:F.howToFindUs:g,er=q&&!!N;return(0,m.jsxs)("div",{className:j,children:[(J||K)&&(0,m.jsx)(_,{message:n,date:Q,time:X}),(null==w?void 0:w.isClosedForRsvp)&&(0,m.jsxs)("div",{className:"mb-5 flex items-center","data-testid":"rsvp-are-closed",children:[(0,m.jsx)(h.Z,{alt:"",role:"presentation",src:"/images/design-system-icons/close-outline.svg",width:"24",height:"24",className:"opacity-50"}),(0,m.jsx)("div",{className:"pl-5",children:(0,m.jsx)(o.Z,R({},B.rsvpAreClosed))})]}),!p&&(0,m.jsx)("div",{className:s()("sm:min-h-max",{"min-h-[40px]":!er,"min-h-[60px]":er}),children:z&&(0,m.jsx)(m.Fragment,{children:i?(0,m.jsx)(y,{dateTime:i,endTime:a,recurrenceDescription:N,isOnline:M===d.tw.ONLINE,eventTimezone:E,isShowRecurrenceDescription:er,isShowEventCancelled:(null==w?void 0:w.isCanceled)&&q}):(0,m.jsx)(o.Z,R({},B.needStartTime))})}),!v&&(0,m.jsx)("div",{className:"relative ml-10 lg:ml-11","data-testid":"add-to-calendar",children:(0,m.jsx)(u.Z,{dropdownPlacement:"auto-end",eventId:Z,dropdownStyles:L?"d1v80pgt":""})}),(0,m.jsxs)("div",{className:"flex flex-col",children:[ee&&(0,m.jsx)(I,{venue:r,isGroupPrivate:f,howToFindUs:g,center:P,isMember:k,showMap:U,eventType:M,isHideMapMarker:H,noPadding:V}),et&&(0,m.jsx)(T,{isGroupPrivate:f,howToFindUs:en,timeStatus:b,isMember:k,isOrganizer:D,isAttending:C,eventId:Z,groupId:S,noPadding:V})]})]})};n(53912)},53912:function(e){e.exports={d1v80pgt:"d1v80pgt"}}}]);